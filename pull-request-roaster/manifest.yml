permissions:
  scopes:
    - read:app-system-token
    - read:pullrequest:bitbucket
modules:
  bitbucket:mergeCheck:
    - key: pull-request-roaster-merge-check
      function: main
      name: PR Title Follows Conventions
      description: A Bitbucket merge check example
      triggers:
        - on-code-pushed
  function:
    - key: main
      handler: index.run
app:
  runtime:
    name: nodejs20.x
  id: ari:cloud:ecosystem::app/be8e72a5-fb19-48e2-b608-5a09ceb15034

remotes:
  - key: mi-corazon
    baseUrl: https://mi-corazon.fly.dev
    operations:
      - compute
    auth:
      appSystemToken:
        enabled: true
